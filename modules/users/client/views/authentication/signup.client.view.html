<div ng-controller="AuthenticationController"
    layout="column"
    layout-align="center center"
    layout-fill>

	<!-- Meta tags -->
	<!-- Basic meta tags -->
	<update-title title="{{ title }}"></update-title>

	<!-- Facebook META -->
	<update-meta property="og:title"
	    content="{{ title }}"></update-meta>
	<update-meta property="og:url"
	    use-abs-url="true"></update-meta>

	<!-- Twitter META -->
	<update-meta name="twitter:title"
	    content="{{ title }}"></update-meta>
	<update-meta name="twitter:url"
	    use-abs-url="true"></update-meta>

	<md-card md-theme-watch>
		<form name="userForm"
		    ng-submit="signup(userForm.$valid)"
		    class="signin"
		    autocomplete="off">
			<md-card-title>
				<md-card-title-text>
					<span class="md-headline">Sign Up</span>
					<alert type="danger"
					    ng-show="error"
					    class="text-center text-danger">
						<span ng-bind="error"></span>
					</alert>
					<md-input-container class="md-block"
					    flex-gt-sm>
						<label>Username</label>
						<input required
						    lowercase
						    ng-model="credentials.username"
						    name="username">
						<span class="md-subhead">You will use this to sign in</span>
						<div ng-messages="userForm.username.$error">
							<div ng-message="required">This is required.</div>
							<!-- <p class="help-block error-text" ng-message="required">Username is required.</p> -->
						</div>
					</md-input-container>

					<div layout="row">
						<md-input-container class="md-block"
						    flex-gt-sm>
							<label>First Name</label>
							<input required
							    ng-model="credentials.firstName"
							    name="firstName">
							<div ng-messages="userForm.firstName.$error">
								<div ng-message="required">This is required.</div>
								<!-- <p class="help-block error-text" ng-message="required">First name is required.</p> -->
							</div>
						</md-input-container>

						<md-input-container class="md-block"
						    flex-gt-sm>
							<label>Last Name</label>
							<input required
							    ng-model="credentials.lastName"
							    name="lastName">
							<div ng-messages="userForm.lastName.$error">
								<div ng-message="required">This is required.</div>
								<!-- <p class="help-block error-text" ng-message="required">Last name is required.</p> -->
							</div>
						</md-input-container>
					</div>

					<md-input-container class="md-block"
					    flex-gt-sm>
						<label>E-mail</label>
						<input required
						    lowercase
						    type="email"
						    ng-model="credentials.email"
						    pattern="^[a-zA-Z0-9_.+-]+@(?:(?:[a-zA-Z0-9-]+\.)?[a-zA-Z]+\.)?(uqconnect|uq)\.(edu|net)\.au$"
						    name="email">
						<span class="md-subhead">Please use your UQ E-mail address</span>
						<div ng-messages="userForm.email.$error">
							<div ng-message="required">This is required.</div>
							<div ng-message="email">Email address is invalid.</div>
							<div ng-message="pattern">Please use a valid UQ e-mail address.</div>
						</div>
					</md-input-container>

					<md-input-container class="md-block"
					    flex-gt-sm>
						<label>Password</label>
						<input required
						    password-validate
						    type="password"
						    ng-model="credentials.password"
						    name="password"
						    popover="{{popoverMsg}}"
						    popover-trigger="focus"
						    popover-placement="top"
						    password-validator>
						<div ng-messages="userForm.password.$error">
							<div ng-message="required">This is required.</div>
							<div ng-message="passwordVerify">{{passwordErrors[0]}}</div>
						</div>
					</md-input-container>

					<md-input-container>
						<div vc-recaptcha
						    theme="'light'"
						    key="recaptchaKey"
						    on-create="setWidgetId(widgetId)"
						    on-success="setResponse(response)"
						    on-expire="cbExpiration()"></div>
					</md-input-container>

					<div ng-show="error"
					    class="text-center text-danger">
						<strong ng-bind="error"></strong>
					</div>
				</md-card-title-text>
			</md-card-title>
			<md-card-actions layout="row"
			    layout-align="end center">
				<md-button type="submit"
				    class="md-raised md-primary"
				    ng-disabled="userForm.$invalid">Sign Up</md-button>
			</md-card-actions>
		</form>
	</md-card>
</div>
